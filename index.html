<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>TMA Wink VAST Mobile Test</title>
  <style>
    body, html {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      display: flex; justify-content: center; align-items: center;
      background: #000;
    }
    #player-container {
      width: 360px;
      height: 640px;
      position: relative;
    }
    #fullscreen-btn {
      position: absolute;
      bottom: 10px;
      right: 10px;
      padding: 6px 12px;
      background: rgba(255,255,255,0.8);
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div id="player-container"></div>
<button id="fullscreen-btn">FullScreen</button>

<!-- Wink Embed SDK -->
<script src="https://static-adtech.wink.ru/embed-sdk/winkembed.umd.js"></script>
<script>
  const container = document.getElementById('player-container');

  // Вставляем плеер Wink
  const frame = WinkEmbedSDK.api.insertFrame(container, {
    trackId: 23080,       // TrackId рекламного блока (preroll)
    partnerId: 'P0',      // твой Partner ID
    frameOptions: {
      width: "360px",
      height: "640px"
    }
  });

  // Кнопка FullScreen
  const btn = document.getElementById('fullscreen-btn');
  btn.addEventListener('click', () => {
    if (container.requestFullscreen) {
      container.requestFullscreen();
    } else if (container.webkitRequestFullscreen) { /* Safari */
      container.webkitRequestFullscreen();
    } else if (container.msRequestFullscreen) { /* IE11 */
      container.msRequestFullscreen();
    }
  });

  // Пример логирования событий рекламы
  const { events } = WinkEmbedSDK;
  frame.on(events.PLAYBACK_START, (payload) => {
    console.log('Видео стартовало:', payload);
  });
  frame.on(events.AD_END, (payload) => {
    console.log('Реклама закончилась:', payload);
  });
</script>

</body>
</html>
